import{ah as I,ai as M,r as c,j as t,a8 as u,al as h,as as P,aE as k,aF as v}from"./vendor-BW-9v0He.js";import{A,m as E}from"./framer-motion-9g_3J_Jk.js";function W({open:s,images:n,currentIndex:a,setCurrentIndex:i,onClose:m}){const D=I(),f=M(D.breakpoints.down("sm"))?3:5,y=c.useRef(null),[p,l]=c.useState(1),[w,r]=c.useState(4e3);c.useEffect(()=>{if(!s)return;const e=setInterval(()=>{l(1),i(o=>o===n.length-1?0:o+1),r(4e3)},w);return()=>clearInterval(e)},[s,w,n.length,i]),c.useEffect(()=>{const e=o=>{s&&(o.key==="Escape"&&(m(),document.fullscreenElement&&document.exitFullscreen()),o.key==="ArrowRight"&&j(),o.key==="ArrowLeft"&&g())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]),c.useEffect(()=>{y.current&&(s?(async()=>{try{document.fullscreenElement||await y.current.requestFullscreen()}catch(o){console.log("Fullscreen not supported",o)}})():document.fullscreenElement&&document.exitFullscreen().catch(()=>{}))},[s]);const j=()=>{l(1),i(e=>e===n.length-1?0:e+1),r(8e3)},g=()=>{l(-1),i(e=>e===0?n.length-1:e-1),r(8e3)},x=Math.floor(a/f)*f,b=x+f,F=n.slice(x,b),C=x>0,R=b<n.length,L=()=>{const e=b;e>=n.length||(l(1),i(e),r(8e3))},S=()=>{const e=x-f;e<0||(l(-1),i(e),r(8e3))};return t.jsx(A,{children:s&&t.jsx(u,{ref:y,component:E.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:m,sx:{position:"fixed",inset:0,background:"rgba(0,0,0,0.92)",backdropFilter:"blur(8px)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs(u,{onClick:e=>e.stopPropagation(),sx:{position:"relative",width:"90vw",maxWidth:"1200px"},children:[t.jsx(u,{sx:{position:"relative",aspectRatio:"16 / 9",overflow:"hidden"},children:t.jsx(A,{initial:!1,custom:p,mode:"wait",children:t.jsx(u,{component:E.img,src:n[a],custom:p,initial:{x:p>0?400:-400,opacity:0},animate:{x:0,opacity:1},exit:{x:p>0?-400:400,opacity:0},transition:{duration:.7,ease:[.25,.8,.25,1]},sx:{position:"absolute",width:"100%",height:"100%",objectFit:"contain"}},n[a])})}),t.jsx(h,{onClick:m,sx:{position:"absolute",top:-20,right:-20,color:"#C9A227"},children:t.jsx(P,{})}),t.jsx(h,{onClick:g,sx:{position:"absolute",top:"50%",left:-60,color:"#C9A227",transform:"translateY(-50%)"},children:t.jsx(k,{})}),t.jsx(h,{onClick:j,sx:{position:"absolute",top:"50%",right:-60,color:"#C9A227",transform:"translateY(-50%)"},children:t.jsx(v,{})}),t.jsxs(u,{sx:{mt:4,width:"100%",maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:1.5,overflowX:"auto",overflowY:"hidden",boxSizing:"border-box"},children:[C&&t.jsx(h,{onClick:S,sx:{color:"#C9A227"},children:t.jsx(k,{})}),F.map((e,o)=>{const d=x+o;return t.jsx(u,{component:"img",src:e,onClick:()=>{l(d>a?1:-1),i(d),r(8e3)},sx:{width:90,height:70,objectFit:"cover",border:d===a?"2px solid #C9A227":"1px solid rgba(255,255,255,0.2)",cursor:"pointer",borderRadius:"6px",opacity:d===a?1:.7,transition:"all 0.3s ease",flexShrink:0}},d)}),R&&t.jsx(h,{onClick:L,sx:{color:"#C9A227"},children:t.jsx(v,{})})]})]})})})}export{W as L};
