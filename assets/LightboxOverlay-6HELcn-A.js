import{ah as S,ai as I,r as c,j as e,a8 as d,al as p,as as M,aE as w,aF as v}from"./vendor-BQ0FqOJL.js";import{A,m as F}from"./framer-motion-B4zLfzTV.js";function q({open:a,images:o,currentIndex:s,setCurrentIndex:n,onClose:b}){const C=S(),h=I(C.breakpoints.down("sm"))?3:5,y=c.useRef(null),[f,r]=c.useState(1),[g,l]=c.useState(4e3);c.useEffect(()=>{if(!a)return;const t=setInterval(()=>{r(1),n(i=>i===o.length-1?0:i+1),l(4e3)},g);return()=>clearInterval(t)},[a,g,o.length,n]),c.useEffect(()=>{const t=i=>{a&&(i.key==="Escape"&&(b(),document.fullscreenElement&&document.exitFullscreen()),i.key==="ArrowRight"&&k(),i.key==="ArrowLeft"&&j())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[a]),c.useEffect(()=>{y.current&&(a?y.current.requestFullscreen?.().catch(()=>{}):document.exitFullscreen?.().catch(()=>{}))},[a]);const k=()=>{r(1),n(t=>t===o.length-1?0:t+1),l(8e3)},j=()=>{r(-1),n(t=>t===0?o.length-1:t-1),l(8e3)},u=Math.floor(s/h)*h,m=u+h,D=o.slice(u,m),E=u>0,R=m<o.length,L=()=>{const t=m;t>=o.length||(r(1),n(t),l(8e3))},B=()=>{const t=u-h;t<0||(r(-1),n(t),l(8e3))};return e.jsx(A,{children:a&&e.jsx(d,{ref:y,component:F.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:b,sx:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",backdropFilter:"blur(8px)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",overflowY:"auto",padding:4},children:e.jsxs(d,{onClick:t=>t.stopPropagation(),sx:{position:"relative",width:"100%",maxWidth:"1200px"},children:[e.jsx(d,{sx:{width:"100%",display:"flex",justifyContent:"center",borderRadius:"16px",background:"rgba(255,255,255,0.04)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.08)",padding:2},children:e.jsx(A,{initial:!1,custom:f,mode:"wait",children:e.jsx(d,{component:F.img,src:o[s],custom:f,initial:{x:f>0?300:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:f>0?-300:300,opacity:0},transition:{duration:.6,ease:[.25,.8,.25,1]},sx:{width:"100%",height:"auto",maxHeight:"80vh",objectFit:"contain",display:"block"}},o[s])})}),e.jsx(p,{onClick:b,sx:{position:"absolute",top:-40,right:0,color:"#C9A227"},children:e.jsx(M,{})}),e.jsx(p,{onClick:j,sx:{position:"absolute",top:"40%",left:-60,color:"#C9A227",transform:"translateY(-50%)"},children:e.jsx(w,{})}),e.jsx(p,{onClick:k,sx:{position:"absolute",top:"40%",right:-60,color:"#C9A227",transform:"translateY(-50%)"},children:e.jsx(v,{})}),e.jsxs(d,{sx:{mt:4,display:"flex",justifyContent:"center",alignItems:"center",gap:1.5,overflowX:"auto"},children:[E&&e.jsx(p,{onClick:B,sx:{color:"#C9A227"},children:e.jsx(w,{})}),D.map((t,i)=>{const x=u+i;return e.jsx(d,{component:"img",src:t,onClick:()=>{r(x>s?1:-1),n(x),l(8e3)},sx:{width:90,height:70,objectFit:"contain",border:x===s?"2px solid #C9A227":"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",cursor:"pointer",opacity:x===s?1:.75,transition:"all 0.3s ease",flexShrink:0,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(14px)",WebkitBackdropFilter:"blur(14px)"}},x)}),R&&e.jsx(p,{onClick:L,sx:{color:"#C9A227"},children:e.jsx(v,{})})]})]})})})}export{q as L};
