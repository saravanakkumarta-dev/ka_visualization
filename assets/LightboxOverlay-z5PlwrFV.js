import{ai as S,aj as I,r as d,j as e,a8 as u,am as p,at as M,aF as w,aG as v}from"./vendor-DTsS2J-d.js";import{A,m as F}from"./framer-motion-BvubpvrZ.js";function q({open:n,images:i,currentIndex:r,setCurrentIndex:s,onClose:b}){const C=S(),h=I(C.breakpoints.down("sm"))?3:5,m=d.useRef(null),[f,l]=d.useState(1),[g,c]=d.useState(4e3);d.useEffect(()=>{if(!n)return;const t=setInterval(()=>{l(1),s(o=>o===i.length-1?0:o+1),c(4e3)},g);return()=>clearInterval(t)},[n,g,i.length,s]),d.useEffect(()=>{const t=o=>{n&&(o.key==="Escape"&&(b(),document.fullscreenElement&&document.exitFullscreen()),o.key==="ArrowRight"&&k(),o.key==="ArrowLeft"&&j())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[n]),d.useEffect(()=>{var t,o,a;m.current&&(n?(o=(t=m.current).requestFullscreen)==null||o.call(t).catch(()=>{}):(a=document.exitFullscreen)==null||a.call(document).catch(()=>{}))},[n]);const k=()=>{l(1),s(t=>t===i.length-1?0:t+1),c(8e3)},j=()=>{l(-1),s(t=>t===0?i.length-1:t-1),c(8e3)},x=Math.floor(r/h)*h,y=x+h,D=i.slice(x,y),E=x>0,R=y<i.length,L=()=>{const t=y;t>=i.length||(l(1),s(t),c(8e3))},B=()=>{const t=x-h;t<0||(l(-1),s(t),c(8e3))};return e.jsx(A,{children:n&&e.jsx(u,{ref:m,component:F.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:b,sx:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",backdropFilter:"blur(8px)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",overflowY:"auto",padding:4},children:e.jsxs(u,{onClick:t=>t.stopPropagation(),sx:{position:"relative",width:"100%",maxWidth:"1200px"},children:[e.jsx(u,{sx:{width:"100%",display:"flex",justifyContent:"center",borderRadius:"16px",background:"rgba(255,255,255,0.04)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.08)",padding:2},children:e.jsx(A,{initial:!1,custom:f,mode:"wait",children:e.jsx(u,{component:F.img,src:i[r],custom:f,initial:{x:f>0?300:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:f>0?-300:300,opacity:0},transition:{duration:.6,ease:[.25,.8,.25,1]},sx:{width:"100%",height:"auto",maxHeight:"80vh",objectFit:"contain",display:"block"}},i[r])})}),e.jsx(p,{onClick:b,sx:{position:"absolute",top:-40,right:0,color:"#C9A227"},children:e.jsx(M,{})}),e.jsx(p,{onClick:j,sx:{position:"absolute",top:"40%",left:-60,color:"#C9A227",transform:"translateY(-50%)"},children:e.jsx(w,{})}),e.jsx(p,{onClick:k,sx:{position:"absolute",top:"40%",right:-60,color:"#C9A227",transform:"translateY(-50%)"},children:e.jsx(v,{})}),e.jsxs(u,{sx:{mt:4,display:"flex",justifyContent:"center",alignItems:"center",gap:1.5,overflowX:"auto"},children:[E&&e.jsx(p,{onClick:B,sx:{color:"#C9A227"},children:e.jsx(w,{})}),D.map((t,o)=>{const a=x+o;return e.jsx(u,{component:"img",src:t,onClick:()=>{l(a>r?1:-1),s(a),c(8e3)},sx:{width:90,height:70,objectFit:"contain",border:a===r?"2px solid #C9A227":"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",cursor:"pointer",opacity:a===r?1:.75,transition:"all 0.3s ease",flexShrink:0,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(14px)",WebkitBackdropFilter:"blur(14px)"}},a)}),R&&e.jsx(p,{onClick:L,sx:{color:"#C9A227"},children:e.jsx(v,{})})]})]})})})}export{q as L};
