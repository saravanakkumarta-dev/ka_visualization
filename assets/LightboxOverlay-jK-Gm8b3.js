import{r as c,j as e,a8 as u,al as f,as as L,aE as g,aF as v}from"./vendor-BW-9v0He.js";import{A as k,m as C}from"./framer-motion-9g_3J_Jk.js";function z({open:i,images:n,currentIndex:l,setCurrentIndex:s,onClose:p}){const m=c.useRef(null),[h,a]=c.useState(1),[b,r]=c.useState(4e3);c.useEffect(()=>{if(!i)return;const t=setInterval(()=>{a(1),s(o=>o===n.length-1?0:o+1),r(4e3)},b);return()=>clearInterval(t)},[i,b,n.length,s]),c.useEffect(()=>{const t=o=>{i&&(o.key==="Escape"&&(p(),document.fullscreenElement&&document.exitFullscreen()),o.key==="ArrowRight"&&j(),o.key==="ArrowLeft"&&w())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[i]),c.useEffect(()=>{m.current&&(i?(async()=>{try{document.fullscreenElement||await m.current.requestFullscreen()}catch(o){console.log("Fullscreen not supported",o)}})():document.fullscreenElement&&document.exitFullscreen().catch(()=>{}))},[i]);const j=()=>{a(1),s(t=>t===n.length-1?0:t+1),r(8e3)},w=()=>{a(-1),s(t=>t===0?n.length-1:t-1),r(8e3)},x=Math.floor(l/5)*5,y=x+5,A=n.slice(x,y),E=x>0,D=y<n.length,F=()=>{const t=y;t>=n.length||(a(1),s(t),r(8e3))},R=()=>{const t=x-5;t<0||(a(-1),s(t),r(8e3))};return e.jsx(k,{children:i&&e.jsx(u,{ref:m,component:C.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p,sx:{position:"fixed",inset:0,background:"rgba(0,0,0,0.92)",backdropFilter:"blur(8px)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs(u,{onClick:t=>t.stopPropagation(),sx:{position:"relative",width:"90vw",maxWidth:"1200px"},children:[e.jsx(u,{sx:{position:"relative",aspectRatio:"16 / 9",overflow:"hidden"},children:e.jsx(k,{initial:!1,custom:h,mode:"wait",children:e.jsx(u,{component:C.img,src:n[l],custom:h,initial:{x:h>0?400:-400,opacity:0},animate:{x:0,opacity:1},exit:{x:h>0?-400:400,opacity:0},transition:{duration:.7,ease:[.25,.8,.25,1]},sx:{position:"absolute",width:"100%",height:"100%",objectFit:"contain"}},n[l])})}),e.jsx(f,{onClick:p,sx:{position:"absolute",top:-20,right:-20,color:"#C9A227"},children:e.jsx(L,{})}),e.jsx(f,{onClick:w,sx:{position:"absolute",top:"50%",left:-60,color:"#C9A227",transform:"translateY(-50%)"},children:e.jsx(g,{})}),e.jsx(f,{onClick:j,sx:{position:"absolute",top:"50%",right:-60,color:"#C9A227",transform:"translateY(-50%)"},children:e.jsx(v,{})}),e.jsxs(u,{sx:{mt:4,width:"100%",maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:1.5,overflowX:"auto",overflowY:"hidden",boxSizing:"border-box"},children:[E&&e.jsx(f,{onClick:R,sx:{color:"#C9A227"},children:e.jsx(g,{})}),A.map((t,o)=>{const d=x+o;return e.jsx(u,{component:"img",src:t,onClick:()=>{a(d>l?1:-1),s(d),r(8e3)},sx:{width:90,height:70,objectFit:"cover",border:d===l?"2px solid #C9A227":"1px solid rgba(255,255,255,0.2)",cursor:"pointer",borderRadius:"6px",opacity:d===l?1:.7,transition:"all 0.3s ease",flexShrink:0}},d)}),D&&e.jsx(f,{onClick:F,sx:{color:"#C9A227"},children:e.jsx(v,{})})]})]})})})}export{z as L};
